{% extends "base.html" %} 
{% load static %}
{% load table_helpers %}
{% load render_table from django_tables2 %}

{% block body %} 

  <div>
    <div class="d-flex flex-row bg-dark p-2 align-items-center gap-2" id="filters-toolbar">
      
      {% include "components/filter_bar.html" %}
      
      <button class="btn btn-primary ms-auto" data-bs-target="#triggerAutomationModal" data-bs-toggle="modal">Executar automação</button>
    </div>

    {% render_table table %}

    {% if history_details_table %}
      {% include "components/history_details_modal.html" %}
    {% endif %}

    {% include "components/trigger_automation_modal.html" %}
  </div>
  
{% endblock body %} 

{% block scripts %} 
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="{% static 'js/scripts.js' %}"></script>
  <script src="{% static 'js/filter_bar.js' %}"></script>

  {% if show_history_details_modal %}
    <script src="{% static 'js/history_details_modal.js' %}"></script>
  {% endif %}
{% endblock scripts %} 

{% block links %}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  <link rel="stylesheet" href="{% static 'css/history_details_modal.css' %}">
  <link rel="stylesheet" href="{% static 'css/filter_bar.css' %}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
{% endblock links %}
